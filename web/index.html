<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Glo</title>
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="main-content">
      <div class="main-title">
        Clean views for <span class="italic">dirty</span> git commands
      </div>

      <div
        class="mono-block"
        id="install-block"
        role="region"
        aria-label="install command"
      >
        <span class="install-text">brew install dinethdilhara/glo | bash</span>
        <button
          class="copy-btn"
          id="copy-btn"
          aria-label="Copy install command"
          title="Copy"
        >
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M16 1H4C2.895 1 2 1.895 2 3V15"
              stroke="#050505"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <rect
              x="8"
              y="5"
              width="13"
              height="13"
              rx="2"
              stroke="#050505"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>
      </div>

      <div class="actions-row">
        <a
          class="mono-link-github"
          href="https://github.com/DinethDilhara/glo"
          target="_blank"
          rel="noopener"
          aria-label="Open GitHub repository"
        >
          <img src="assets/github.svg" alt="GitHub" width="36" height="36" />
        </a>

        <a class="mono-link-secondary" href="commands.html">
          <svg
            class="btn-icon"
            width="16"
            height="16"
            viewBox="0 0 19 11"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M 14.08 10.279 L 12.964 9.124 L 15.792 6.296 L 0.141 6.296 L 0.141 4.703 L 15.792 4.703 L 12.964 1.876 L 14.08 0.721 L 18.859 5.5 Z"
              fill="currentColor"
            />
          </svg>
          Explore docs
        </a>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const copyBtn = document.getElementById("copy-btn");
        const installTextEl = document.querySelector(".install-text");
        if (!copyBtn || !installTextEl) return;

        copyBtn.addEventListener("click", async function () {
          let text = installTextEl.textContent.trim();
          text = text.replace(/\s*\|\s*bash\s*$/i, "");
          try {
            await navigator.clipboard.writeText(text);
            const orig = copyBtn.getAttribute("title");
            copyBtn.setAttribute("title", "Copied!");
            copyBtn.style.opacity = "0.6";
            setTimeout(() => {
              copyBtn.setAttribute("title", orig || "Copy");
              copyBtn.style.opacity = "";
            }, 1200);
          } catch (e) {
            console.error("Copy failed", e);
            copyBtn.setAttribute("title", "Copy failed");
          }
        });
      });
    </script>
  </body>
</html>
